

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>decomp - Domain Decomposition python functions &mdash; ESPResSo++ vlatest</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon_blue.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ESPResSo++ vlatest" href="index.html"/>
        <link rel="up" title="tools" href="tools.html"/>
        <link rel="next" title="DumpConfigurations - read/write xyz files" href="espressopp.tools.DumpConfigurations.html"/>
        <link rel="prev" title="initializing particles" href="espressopp.tools.initcfg.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="http://www.espresso-pp.de/" class="icon icon-home"> ESPResSo++
            <a href="http://www.mpip-mainz.mpg.de/polymer_theory" style="font-size:90%">MPIP Mainz
          

          
            
            <!--<a href="http://www.mpip-mainz.mpg.de/polymer_theory"><img src="_static/logo_theory_group.png" class="logo"/></a>-->
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="instalation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="classdescription.html">User Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="analysis.html">analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="bc.html">bc</a></li>
<li class="toctree-l2"><a class="reference internal" href="check.html">check</a></li>
<li class="toctree-l2"><a class="reference internal" href="esutil.html">esutil</a></li>
<li class="toctree-l2"><a class="reference internal" href="external.html">external</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrator.html">integrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="interaction.html">interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html">io</a></li>
<li class="toctree-l2"><a class="reference internal" href="espressopp.html">espressopp</a></li>
<li class="toctree-l2"><a class="reference internal" href="standard_system.html">standard_system</a></li>
<li class="toctree-l2"><a class="reference internal" href="storage.html">storage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tools.html">tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging mechanism</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">Doxygen</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdf.html">PDF Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ESPResSo++</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="classdescription.html">User Interface</a> &raquo;</li>
        
          <li><a href="tools.html">tools</a> &raquo;</li>
        
      <li>decomp - Domain Decomposition python functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/espressopp.tools.decomp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-espressopp.tools.decomp"></span><div class="section" id="decomp-domain-decomposition-python-functions">
<h1>decomp - Domain Decomposition python functions<a class="headerlink" href="#decomp-domain-decomposition-python-functions" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first"><cite>nodeGrid(n,box_size,rc,skin,eh_size=0,ratioMS=0,idealGas=0,slabMSDims=[0,0,0])</cite>:</p>
<blockquote>
<div><p>It determines how the processors are distributed and how the cells are arranged. 
The algorithm is dimensional sensitive for both homogeneous and inhomogeneous setups. 
On top of such functionality it presents specific features for region divided heterogenous
setups (e.g. for AdResS) [see H.V. Guzman et. al, Phys. Rev. E, 96, 053311 (2017)]
Link to the paper: <a class="reference external" href="https://doi.org/10.1103/PhysRevE.96.053311">https://doi.org/10.1103/PhysRevE.96.053311</a></p>
<p><cite>box_size</cite> - 3D vector cointainig the size of the simulation box box_size [L_x,L_y,L_z]
<cite>rc</cite> - cutoff radius of interaction
<cite>skin</cite> - skin size for the verlet list calculation
<cite>n</cite> - total number of processes
<cite>eh_size</cite> - 1D length of the high-resolution region (e.g. for AdResS Atomistic/Explicit+Hybrid regions)
<cite>ratioMS</cite> - spatial mapping ratio between high-resolution region and the low-resolution one</p>
<blockquote>
<div><p>(e.g. for AdResS mapping the atomistic water molecule to the CG-model; leads to a ratioMS=3)</p>
</div></blockquote>
<dl class="docutils">
<dt><cite>idealGas</cite> - this is a Flag for treating the low-resolution region as an Ideal Gas, when TRUE (no interactions included,</dt>
<dd><p class="first last">thus none force computations load)</p>
</dd>
</dl>
<p><cite>slabMSDims</cite> - 3D vector cointainig flags describing the type of axis, if heterogeneous value is 1, else 0</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt><cite>nodeGridSimple(n)</cite>:</dt>
<dd><p class="first last">It determines how the processors are distributed and how the cells are arranged. Note: Use it exclusively for Lattice-Boltzmann simulations, or non-parallelized tests.
<cite>n</cite> - number of processes</p>
</dd>
</dl>
</li>
<li><p class="first"><cite>cherrypickTotalProcs(box_size,rc,skin,MnN,CpN,percTol=0.2,eh_size=0,ratioMS=0,idealGas=0,slabMSDims=[0,0,0])</cite>:</p>
<blockquote>
<div><p>To be used for heterogenous simulations where the spatial heterogeinity is known on an a-priori manner,
where this function returns <cite>n</cite> as the total number of processes to be used for the best decomposition of the
system as a function of a tolerance ratio which depending on the giving range [0, MnN*CpN] of processors availability
different combinations of P_x,P_y and P_z can be found and hence several values of <cite>n</cite> this ‘n’ can become an array.
Most of the parameters have been described for nodeGrid(…), except:</p>
<p><cite>MnN</cite> - M number of Nodes to be available (e.g. 128 processes/cores, 16 cores per Node gives a total of 8 Nodes)
<cite>CpN</cite> - C number of Cores available in each Node (e.g. 16 Cores per Node or 20 Cores per Node)
<cite>percTol</cite> - Axis base tolerance percentage to the ideal distribution of P-processors per axes P_x,P_y,P_z</p>
</div></blockquote>
</li>
<li><p class="first"><cite>neiListHom(node_grid,box,rc,skin)</cite>:</p>
<blockquote>
<div><p>The new domain decomposition divides the subdomains in a neighborlist of corse in a grid of 3 arrays [N_x,N_y,N_z]. In
this case, the neighbor list is homogeneous (non a-priori load imbalance). Most of the parameters have been described 
above, except:</p>
<p><cite>node_grid</cite> - M number of Nodes to be available (e.g. 128 processes/cores, 16 cores per Node gives a total of 8 Nodes)</p>
</div></blockquote>
</li>
<li><p class="first"><cite>neiListAdress(node_grid, cell_grid,rc,skin,eh_size,adrCenter,ratioMS,idealGasFlag=True,sphereAdr=False,slabMSDims=[1,0,0])</cite>:</p>
<blockquote>
<div><p>The new domain decomposition divides the subdomains in a neighborlist of corse in a grid of 3 arrays [N_x,N_y,N_z]. In
this case, the neighbor list is homogeneous (non a-priori load imbalance). Most of the parameters have been described 
above, except:</p>
<p><cite>cell_grid</cite> - Based on the homogenous allocation of cells per subdomain, a referential value
<cite>adrCenter</cite> - Box center of the heterogeneous simulation box [adrCenter_x,adrCenter_y,adrCenter_z], commonly the middle of</p>
<blockquote>
<div><p>high-resolution region.</p>
</div></blockquote>
<dl class="docutils">
<dt><cite>idealGasFlag</cite> - This is a Flag for treating the low-resolution region as an Ideal Gas (no interactions included,</dt>
<dd><p class="first last">thus less load)</p>
</dd>
</dl>
<p><cite>sphereAdr</cite> - Geometry of the high-resolution region, if TRUE spherical, otherwise Slab-like</p>
</div></blockquote>
</li>
<li><p class="first"><cite>cellGrid(box_size, node_grid, rc, skin, halfCellInt)</cite>:</p>
<blockquote>
<div><p>It returns an appropriate grid of cells.
<cite>halfCellInt</cite> -  controls the use of half-cells (value 2), third-cells (value 3) or higher. Implicit value 1 for full cells (normal functionality).</p>
</div></blockquote>
</li>
<li><p class="first"><cite>tuneSkin(system, integrator, minSkin=0.01, maxSkin=1.2, precision=0.001)</cite>:</p>
<blockquote>
<div><p>It tunes the skin size for the current system</p>
</div></blockquote>
</li>
<li><p class="first"><cite>printTimeVsSkin(system, integrator, minSkin=0.01, maxSkin=1.5, skinStep = 0.01)</cite>:</p>
<blockquote>
<div><p>It prints time of running versus skin size in the range [minSkin, maxSkin] with
the step skinStep</p>
</div></blockquote>
</li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="espressopp.tools.DumpConfigurations.html" class="btn btn-neutral float-right" title="DumpConfigurations - read/write xyz files" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="espressopp.tools.initcfg.html" class="btn btn-neutral" title="initializing particles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019, Max Planck Institute for Polymer Research.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'latest',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>