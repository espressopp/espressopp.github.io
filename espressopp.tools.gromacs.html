

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gromacs - parser for Gromacs files &mdash; ESPResSo++ vlatest</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon_blue.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ESPResSo++ vlatest" href="index.html"/>
        <link rel="up" title="tools" href="tools.html"/>
        <link rel="next" title="io_extended - read/write configurational files" href="espressopp.tools.io_extended.html"/>
        <link rel="prev" title="espresso_old - read espressomd files" href="espressopp.tools.espresso_old.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="http://www.espresso-pp.de/" class="icon icon-home"> ESPResSo++
            <a href="http://www.mpip-mainz.mpg.de/polymer_theory" style="font-size:90%">MPIP Mainz
          

          
            
            <!--<a href="http://www.mpip-mainz.mpg.de/polymer_theory"><img src="_static/logo_theory_group.png" class="logo"/></a>-->
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="instalation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="classdescription.html">User Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="analysis.html">analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="bc.html">bc</a></li>
<li class="toctree-l2"><a class="reference internal" href="check.html">check</a></li>
<li class="toctree-l2"><a class="reference internal" href="esutil.html">esutil</a></li>
<li class="toctree-l2"><a class="reference internal" href="external.html">external</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrator.html">integrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="interaction.html">interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html">io</a></li>
<li class="toctree-l2"><a class="reference internal" href="espressopp.html">espressopp</a></li>
<li class="toctree-l2"><a class="reference internal" href="standard_system.html">standard_system</a></li>
<li class="toctree-l2"><a class="reference internal" href="storage.html">storage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tools.html">tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging mechanism</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">Doxygen</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdf.html">PDF Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ESPResSo++</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="classdescription.html">User Interface</a> &raquo;</li>
        
          <li><a href="tools.html">tools</a> &raquo;</li>
        
      <li>gromacs - parser for Gromacs files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/espressopp.tools.gromacs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-espressopp.tools.gromacs"></span><div class="section" id="gromacs-parser-for-gromacs-files">
<h1>gromacs - parser for Gromacs files<a class="headerlink" href="#gromacs-parser-for-gromacs-files" title="Permalink to this headline">¶</a></h1>
<p>This Python module allows one to use GROMACS data files as the
input to an ESPResSo++ simulation, set interactions for given
particle types and convert GROMACS potential tables into
ESPResSo++ tables.
It containts functions: read(), setInteractions(), convertTable()</p>
<p>Some tips for using the gromacs parser:</p>
<p><strong>Tip 1.</strong></p>
<p>topol.top includes solvent via #include statements</p>
<p>If the included .itp file ONLY contains the solvent molecule you’re using (e.g. spc/e water using spce.itp) then this is okay.</p>
<p>But if the .itp file contains info about many molecules (e.g. you want to use one ion from ions.itp), then gromacs.py will just take the first one listed. You must edit your topol.top file to explicitly include the solvent molecule you’re using.</p>
<p>e.g. replace:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>; Include topology for ions
#include &quot;amber03.ff/ions.itp&quot;
</pre></div>
</div>
<p>by:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>; Include topology for ions
[ moleculetype ]
; molname       nrexcl
CL              1

[ atoms ]
; id    at type         res nr  residu name     at name  cg nr  charge
1       Cl              1       CL              CL       1      -1.00000
</pre></div>
</div>
<p><strong>Tip 2. impropers</strong></p>
<p>impropers in the topol.top file (function type 4) need to be labelled ‘[ impropers ]’, not ‘[ dihedrals ]’ as in standard gromacs format”</p>
<p>Also, the dihedrals should be listed before the impropers (this is usuall the case by default in gromacs-format files).</p>
<p><strong>Tip 3.</strong></p>
<p>For rigid SPC/E water using Settle, spce.itp file should look like this:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[ moleculetype ]
; molname       nrexcl
SOL             2

[ atoms ]
; id  at type     res nr  res name  at name  cg nr  charge    mass
  1   OW_spc      1       SOL       OW       1      -0.8476   15.99940
  2   HW_spc      1       SOL       HW1      1       0.4238    1.00800
  3   HW_spc      1       SOL       HW2      1       0.4238    1.00800

[ bonds ]
; i     j       funct   length  force.c.
1       2       1       0.1     345000  0.1     345000
1       3       1       0.1     345000  0.1     345000

[ angles ]
; i     j       k       funct   angle   force.c.
2       1       3       1       109.47  383     109.47  383
</pre></div>
</div>
<hr class="docutils" />
<p>The bonds section is used to generate exclusions, but bond and angle parameters are not relevant if the Settle extension is used. The geometry is that specified in the python script when adding the Settle extension</p>
<p>Include modified spce file in topol.top, e.g. replace</p>
<p>#include “amber03.ff/spce.itp”</p>
<p>by</p>
<p>#include “amber03.ff/spce-for-espressopp.itp”</p>
<p><strong>Tip 4.</strong></p>
<p>Use absolute paths for any include files which are not in the standard gromacs topology directory ($GMXLIB)</p>
<p>e.g. replace</p>
<p>#include “mynewresidue.itp”</p>
<p>by</p>
<p>#include “path/to/mynewres/file/mynewresidue.itp”</p>
<p><strong>Tip 5.</strong></p>
<p>The parser won’t work if the particles ids in the include files conflict with the particle ids in the topol.top file itself, and the bonded interaction parameters in the itp file need to be looked up via particle type in the standard gromacs topology directory ($GMXLIB)</p>
<p>i.e. Okay for an itp file like spce.itp above, where the bonds and angles parameters are given in the itp file, as in:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[ bonds ]
; i     j       funct   length  force.c.
1       2       1       0.1     345000  0.1     345000
</pre></div>
</div>
<p>Not okay for an itp file containing lines like:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[ bonds ]
; i     j       funct   length  force.c.
1       2       1
</pre></div>
</div>
<dl class="function">
<dt id="espressopp.tools.gromacs.convertTable">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">convertTable</code><span class="sig-paren">(</span><em>gro_in_file</em>, <em>esp_out_file</em>, <em>sigma=1.0</em>, <em>epsilon=1.0</em>, <em>c6=1.0</em>, <em>c12=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.convertTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert GROMACS tabulated file into ESPResSo++ tabulated file (new file
is created). First column of input file can be either distance or angle.
For non-bonded files, c6 and c12 can be provided. Default value for sigma, epsilon,
c6 and c12 is 1.0. Electrostatics are not taken into account (f and fd columns).</p>
<p>Keyword arguments:
gro_in_file – the GROMACS tabulated file name (bonded, nonbonded, angle
or dihedral).
esp_out_file – filename of the ESPResSo++ tabulated file to be written.
sigma – optional, depending on whether you want to convert units or not.
epsilon – optional, depending on whether you want to convert units or not.
c6 – optional
c12 – optional</p>
</dd></dl>

<dl class="function">
<dt id="espressopp.tools.gromacs.read">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">read</code><span class="sig-paren">(</span><em>gro_file</em>, <em>top_file=''</em>, <em>doRegularExcl=True</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read GROMACS data files.</p>
<p>Arguments:
:param gro_file: – contains coordinates of all particles, the number of particles, velocities and box size.
:type gro_file: string
:param top_file: – contains topology information. Included topology files (.itp) are also read
:type gro_file: string
:param doRegularExcl: – if True, exclusions are generated automatically based on the nregxcl parameter (see gromacs manual)
:type doRegularExcl: bool</p>
</dd></dl>

<dl class="function">
<dt id="espressopp.tools.gromacs.setLennardJones14Interactions">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">setLennardJones14Interactions</code><span class="sig-paren">(</span><em>system</em>, <em>defaults</em>, <em>atomtypeparams</em>, <em>onefourlist</em>, <em>cutoff</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.setLennardJones14Interactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Set lennard jones interactions which were read from gromacs based on the atomypes</p>
</dd></dl>

<dl class="function">
<dt id="espressopp.tools.gromacs.setLennardJonesInteractions">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">setLennardJonesInteractions</code><span class="sig-paren">(</span><em>system</em>, <em>defaults</em>, <em>atomtypeparams</em>, <em>verletlist</em>, <em>cutoff</em>, <em>hadress=False</em>, <em>adress=False</em>, <em>ftpl=None</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.setLennardJonesInteractions" title="Permalink to this definition">¶</a></dt>
<dd><p>Set lennard jones interactions which were read from gromacs based on the atomypes</p>
</dd></dl>

<dl class="function">
<dt id="espressopp.tools.gromacs.setLennardJonesInteractionsTI">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">setLennardJonesInteractionsTI</code><span class="sig-paren">(</span><em>system</em>, <em>defaults</em>, <em>atomtypeparams</em>, <em>verletlist</em>, <em>cutoff</em>, <em>epsilonB</em>, <em>sigmaSC</em>, <em>alphaSC</em>, <em>powerSC</em>, <em>lambdaTI</em>, <em>pidlist</em>, <em>annihilate=True</em>, <em>hadress=False</em>, <em>adress=False</em>, <em>ftpl=None</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.setLennardJonesInteractionsTI" title="Permalink to this definition">¶</a></dt>
<dd><p>Set lennard jones interactions which were read from gromacs based on the atomypes</p>
</dd></dl>

<dl class="function">
<dt id="espressopp.tools.gromacs.setTabulatedInteractions">
<code class="descclassname">espressopp.tools.gromacs.</code><code class="descname">setTabulatedInteractions</code><span class="sig-paren">(</span><em>potentials</em>, <em>particleTypes</em>, <em>system</em>, <em>interaction</em><span class="sig-paren">)</span><a class="headerlink" href="#espressopp.tools.gromacs.setTabulatedInteractions" title="Permalink to this definition">¶</a></dt>
<dd><p>Set interactions for all given particle types.
Return value is a system with all interactions added.</p>
<p>Keyword arguments:
potentials – is a dictionary where key is a string composed
of two particle types and value is a potential.
example: {“A_A”:potAA, “A_B”:potAB, “B_B”:potBB}
particleTypes – is a dictionary where key is the particle type, and
value is a list of particles of that type.
example: {“A”:[“A1m”, “A2m”],”B”:[“B1u”,”B2u”]}
system – is the system to which the interaction will be added
interaction – is the interaction to which to add the potentials</p>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="espressopp.tools.io_extended.html" class="btn btn-neutral float-right" title="io_extended - read/write configurational files" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="espressopp.tools.espresso_old.html" class="btn btn-neutral" title="espresso_old - read espressomd files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2018, Max Planck Institute for Polymer Research.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'latest',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>